<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sacred Space - Church Management</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Open+Sans:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style_change_password.css" />
  </head>
  <body>
    <div class="container">
      <div class="sub-container">
        <div class="branding-container">
          <div class="branding-row">
            <img src="logo.png" alt="Church Logo" class="church-logo" />
            <h3 class="church-name">Our Lady of Light Shrine - Loon</h3>
          </div>
        </div>

        <div class="password-change-form">
          <h2 class="password-change-header">Change Password</h2>
          <p class="instruction">Note: Don't forget your password</p>
          <form id="passwordChangeForm">
            <p>Password</p>

            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                class="form-input"
                id="password"
                placeholder="Enter your password"
                required
              />
              <span
                class="fas fa-eye password-toggle"
                id="togglePassword"
              ></span>
            </div>
            <p>Confirm Password</p>

            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                class="form-input"
                id="confirmPassword"
                placeholder="Confirm your password"
                required
              />
              <span
                class="fas fa-eye password-toggle"
                id="toggleConfirmPassword"
              ></span>
            </div>

            <button type="submit" class="reset-btn">Change Password</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
      <div class="modal-content">
        <div class="modal-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h3 class="modal-title">Success!</h3>
        <p class="modal-message">Password has been resetted successfully.</p>
        <button class="modal-btn" id="modalCloseBtn">OK</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("passwordChangeForm");
        const modal = document.getElementById("successModal");
        const closeBtn = document.getElementById("modalCloseBtn");

        form.addEventListener("submit", function (e) {
          e.preventDefault();

          // Here you would normally send the form data to your server
          // For demonstration, we'll just show the modal

          // Show the modal
          modal.style.display = "flex";
        });

        closeBtn.addEventListener("click", function () {
          modal.style.display = "none";
          // Optionally redirect to login page after closing modal
          // window.location.href = 'login.html';
        });

        // Close modal when clicking outside of it
        window.addEventListener("click", function (e) {
          if (e.target === modal) {
            modal.style.display = "none";
          }
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        const togglePassword = document.querySelector("#togglePassword");
        const password = document.querySelector("#password");
        const toggleConfirmPassword = document.querySelector("#toggleConfirmPassword");
        const confirmPassword = document.querySelector("#confirmPassword");

        togglePassword.addEventListener("click", function () {
          // Toggle the type attribute
          const type =
            password.getAttribute("type") === "password" ? "text" : "password";
          password.setAttribute("type", type);

          // Toggle the eye icon
          this.classList.toggle("fa-eye");
          this.classList.toggle("fa-eye-slash");
        });

        toggleConfirmPassword.addEventListener("click", function () {
          // Toggle the type attribute
          const type =
            confirmPassword.getAttribute("type") === "password" ? "text" : "password";
          confirmPassword.setAttribute("type", type);

          // Toggle the eye icon
          this.classList.toggle("fa-eye");
          this.classList.toggle("fa-eye-slash");
        });
      });
    </script>
  </body>
</html>
